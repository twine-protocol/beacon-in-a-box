services:
  generator:
    build:
      context: .
      dockerfile: Dockerfile.base
      args:
        - APP_NAME=pulse_generator
    environment:
      - LOG_LEVEL=debug
    command: ["/app/pulse_generator"]
    networks:
      - internal

  rng_factory:
    build:
      context: .
      dockerfile: Dockerfile.base
      args:
        - APP_NAME=rng_factory
    environment:
      - LOG_LEVEL=debug
    command: ["/app/rng_factory"]
    networks:
      - internal
    depends_on:
      - generator

networks:
  internal: